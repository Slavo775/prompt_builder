# Repository Constraints

**This document is human-owned. AI must follow it in all phases.**

## Overview

This repository contains a Vue.js-based prompt builder application with strict constraints on infrastructure and configuration modifications. All AI interactions must adhere to these constraints without exception.

## Do-Not-Touch (DN-T) Files & Folders

**CRITICAL: These files/folders require RFC + explicit human approval. AI MUST NOT modify them under any circumstances.**

### Package Management & Dependencies

- `package.json`
- `pnpm-lock.yaml`, `package-lock.json`, `yarn.lock`
- `pnpm-workspace.yaml`
- `.npmrc`, `.nvmrc`

### TypeScript & JavaScript Configuration

- `tsconfig*.json`
- `jsconfig*.json`

### Build & Framework Configuration

- `vite.config.*`
- `rollup.config.*`
- `tsup.config.*`
- `webpack.config.*`
- `postcss.config.*`
- `tailwind.config.*`
- `next.config.*`
- `babel.config.*`, `.babelrc`

### Linting & Code Quality

- `.eslintrc*`, `eslint.config.*`
- `.prettierrc*`
- `.stylelint*`
- `.lintstagedrc*`
- `.commitlintrc*`
- `.editorconfig`

### Git & Version Control

- `.gitignore`
- `.gitattributes`
- `.mailmap`

### CI/CD & Automation

- `.husky/`
- `.github/**` (workflows)
- `.gitlab-ci.yml`
- `.circleci/`
- `dependabot.yml`
- `renovate.json`

### Infrastructure & Deployment

- `Dockerfile*`
- `docker-compose*`
- `kubernetes/`
- `terraform/`
- `infra/*`

### Testing Configuration

- `playwright.config.*`
- `vitest.config.*`
- `jest.config.*`
- `cypress.config.*`

### Build Tools & Monorepo

- `turbo.json`
- `nx.json`

### IDE & Editor Configuration

- `.vscode/`
- `.idea/`

### Environment & Configuration

- `.env*`
- `.env.*.example`
- `config/.env.*`

### Other Configuration

- `emotion/babel` plugins config
- `storybook` config (`.storybook/**`)
- Any other root-level dotfiles (`.*`) and configuration files

## Development Standards

### TypeScript Rules

- **Strict mode**: All TypeScript configurations must use strict mode
- **No `any`**: Explicitly forbidden; use proper typing
- **No `unknown`**: Use specific types or proper type guards
- **No non-null assertion (`!`)**: Use proper null checks
- **No `as any`**: Use proper type assertions or type guards
- **Exhaustive unions**: All union types must be exhaustive
- **Precise exported types**: All exported types must be precisely defined

### Vue.js/UI Rules

- **Typed props**: All component props must be properly typed
- **Correct hook dependencies**: All Vue composition API hooks must have correct dependency arrays
- **Basic accessibility**: Components must meet basic a11y requirements (ARIA labels, keyboard navigation, etc.)

### Testing Rules

- **Framework**: Use `vitest` and `@testing-library/vue`
- **Accessibility testing**: Use `jest-axe` for a11y validation
- **Coverage thresholds** (recommended):
  - Statements: 80%
  - Branches: 75%
  - Functions: 80%
  - Lines: 80%

## RFC Policy

### Infrastructure & Configuration Changes

- All changes to DN-T files must be proposed in RFC documents
- RFCs must include:
  - Justification for the change
  - Impact analysis
  - Migration strategy (if applicable)
  - Rollback plan
- **AI MUST NEVER apply infrastructure/config changes without explicit human approval**

### RFC Process

1. Create RFC document in appropriate location
2. Submit for human review
3. Wait for explicit approval
4. Implement only after approval received

## Output Policy

### Git-Ready Implementation

- All code changes must be commit-ready Git diffs
- No DN-T file modifications allowed
- All changes must pass existing linting and type checking

### Code Quality Gates

- All code must pass ESLint rules
- TypeScript compilation must succeed
- Tests must pass
- No console errors or warnings

## Enforcement

### AI Compliance

- AI must check this document before making any changes
- AI must refuse requests that violate these constraints
- AI must suggest RFC process for infrastructure changes

### Human Override

- Only humans can modify this document
- Only humans can approve RFC exceptions
- Emergency changes require documented justification

## Contact

For questions about these constraints or to propose changes, contact the repository maintainers.

---

**Last Updated**: Generated by Staff Engineer
**Version**: 1.0
**Status**: Active
